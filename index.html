<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="winlistx"></div>
    <div id="winlisto"></div>
    <div class="ddd" onclick="changer()" id="bigboy">
        <div id="dcla"></div>

        <div class="buttons-container">
            <div class="button-row">
                <button value="1">-</button>
                <button value="2">-</button>
                <button value="3">-</button>
            </div>
            <div class="button-row">
                <button value="4">-</button>
                <button value="5">-</button>
                <button value="6">-</button>
            </div>
            <div class="button-row">
                <button value="7">-</button>
                <button value="8">-</button>
                <button value="9">-</button>
            </div>
        </div>
    </div>
    <script>
    xcounter=0;
    ocounter=0;
        winlistx.innerHTML=`x won ${xcounter} times <br>`
        winlisto.innerHTML=`o won ${ocounter} times`
        
        
        let Turn = false
        dcla.innerHTML = `It is ${(Turn) ? "O" : "X"}'s turn`
        let ar = new Array(9)
        let xwinner="x";
        function changer() {

            if (event.target.innerHTML == "-") {
                dcla.innerHTML = `It is ${(Turn) ? "O" : "X"}'s turn`
                event.target.innerHTML = (Turn) ? "X" : "O";
                Turn = !Turn;

                ar[event.target.value - 1] = (Turn) ? 0 : 1;
                checkerrow(event.target.value);
                checkercol(event.target.value);
                cross();
            }
        }

        function checkerrow(num) {

            num = Number(num)
            if ((num % 3 != 0)) {
                num = num + 3 - (num % 3)
            }
            if (ar[num - 1] == ar[num - 2] && ar[num - 1] == ar[num - 3] && ar[num - 1] != null) {
                win()
            }

        }

        function checkercol(as) {

            as = Number(as)
            if ((as % 3 != 0)) {
                as = as % 3
            }
            else {
                as = 3;
            }
            if (ar[as - 1] == ar[as + 2] && ar[as - 1] == ar[as + 5] && ar[as - 1] != null) {
                win()
            }
        }5

        function cross() {
            if (ar[4] == ar[0] && ar[4] == ar[8] && ar[4] != null) {
                win()
            }
            if (ar[4] == ar[2] && ar[4] == ar[6] && ar[4] != null) {
                win()
            }

        }

        function win() {
            if(event.target.innerHTML=="X")
        {
            xcounter++;
            xwinner="X";
            
        }
        else
        {
            ocounter++;
            xwinner="O";
        }
         winlistx.innerHTML=`x won ${xcounter} times </br>`
        winlisto.innerHTML=`o won ${ocounter} times`
        bigboy.innerHTML =""
            bigboy.innerHTML = `The winner is ${xwinner}`
            bigboy.innerHTML+= `<button onclick="rematch()"> rematch</button>`

        }

        function rematch() {
            Turn = false
            bigboy.innerHTML=`
        <div id="dcla">It is O's turn</div>

        <div class="buttons-container">
            <div class="button-row">
                <button value="1">-</button>
                <button value="2">-</button>
                <button value="3">-</button>
            </div>
            <div class="button-row">
                <button value="4">-</button>
                <button value="5">-</button>
                <button value="6">-</button>
            </div>
            <div class="button-row">
                <button value="7">-</button>
                <button value="8">-</button>
                <button value="9">-</button>
            </div>
        </div>
    `
    for (let index = 0; index < ar.length; index++) {
        ar[index]=null;
        
    }
            
        }
    </script>
</body>

</html>
